---
export const prerender = true;

import Layout from "../layouts/Layout.astro";
---

<Layout scrollToTop={false}>
  <div class="w-full flex justify-center">
    <div class="w-full max-w-2xl xl:max-w-3xl">
      <div>
        <h1 class="text-2xl mb-4 underline">About Weathers</h1>
        <p class="mb-4">
          This is a pet project of mine. The goal is to learn <a
            target="_blank"
            rel="noopener noreferrer"
            class="hover:cursor-pointer hover:underline text-blue-500 dark:text-blue-400"
            href="https://astro.build">Astro</a
          > and <a
            target="_blank"
            rel="noopener noreferrer"
            class="hover:cursor-pointer hover:underline text-blue-500 dark:text-blue-400"
            href="https://solidjs.com">SolidJS</a
          >. I'm also using <a
            target="_blank"
            rel="noopener noreferrer"
            class="hover:cursor-pointer hover:underline text-blue-500 dark:text-blue-400"
            href="https://tailwindcss.com">Tailwind CSS</a
          >.
          <p class="mb-4">The page uses cookies.</p>
          <div>
            <span class="">Github:</span>
            <div class="flex flex-col ml-10">
              <a
                target="_blank"
                rel="noopener noreferrer"
                class="hover:cursor-pointer hover:underline text-blue-500 dark:text-blue-400"
                href="https://github.com/jonas-thuvesson-winberg"
                >jonas-thuvesson-winberg</a
              >
              <!-- <span class="">Weathers repo:</span> -->
              <a
                target="_blank"
                rel="noopener noreferrer"
                class="hover:cursor-pointer hover:underline text-blue-500 dark:text-blue-400"
                href="https://github.com/jonas-thuvesson-winberg/weathers"
                >Weathers repo</a
              >
            </div>
          </div>
        </p>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const currentParams = new URLSearchParams(window.location.search);
      const location = currentParams.get("location");
      if (!location) return;

      document.querySelectorAll("a").forEach((link) => {
        const url = new URL(link.href, window.location.origin);
        // Skip external links
        if (url.origin !== window.location.origin) return;

        url.searchParams.set("location", location);
        link.href = url.toString();
      });
    });
  </script>
</Layout>
